"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[144],{2823:(e,t,r)=>{r.d(t,{N:()=>M});var s=r(5155),n=r(2115),a=r(5695),i=r(6874),o=r.n(i),l=r(3999),c=r(7168),d=r(8145),u=r(7340),m=r(5040),h=r(7434),f=r(9037),g=r(9074),p=r(1366),x=r(7580),b=r(5670),v=r(9103),y=r(2713),w=r(3861),j=r(381),N=r(7949),A=r(2355);function C(e){let{role:t}=e,r=(0,a.usePathname)(),[i,C]=(0,n.useState)(!1),S=(e=>{let t=[{title:"Dashboard",href:"/".concat(e),icon:u.A}];switch(e){case"student":return[...t,{title:"My Courses",href:"/student/courses",icon:m.A,badge:"3"},{title:"Assignments",href:"/student/assignments",icon:h.A,badge:"2"},{title:"Grades",href:"/student/grades",icon:f.A},{title:"Schedule",href:"/student/schedule",icon:g.A},{title:"Messages",href:"/student/messages",icon:p.A,badge:"5"}];case"teacher":return[...t,{title:"My Courses",href:"/teacher/courses",icon:m.A},{title:"Students",href:"/teacher/students",icon:x.A},{title:"Assignments",href:"/teacher/assignments",icon:h.A},{title:"Grading",href:"/teacher/grading",icon:b.A,badge:"12"},{title:"Create Content",href:"/teacher/create",icon:v.A},{title:"Messages",href:"/teacher/messages",icon:p.A,badge:"8"}];case"parent":return[...t,{title:"Children Progress",href:"/parent/progress",icon:y.A},{title:"Courses",href:"/parent/courses",icon:m.A},{title:"Attendance",href:"/parent/attendance",icon:b.A},{title:"Messages",href:"/parent/messages",icon:p.A,badge:"3"},{title:"Schedule",href:"/parent/schedule",icon:g.A}];case"admin":return[...t,{title:"User Management",href:"/admin/users",icon:x.A},{title:"Course Management",href:"/admin/courses",icon:m.A},{title:"Analytics",href:"/admin/analytics",icon:y.A},{title:"Content Management",href:"/admin/content",icon:h.A},{title:"Notifications",href:"/admin/notifications",icon:w.A},{title:"System Settings",href:"/admin/settings",icon:j.A}];default:return t}})(t);return(0,s.jsxs)("div",{className:(0,l.cn)("bg-white border-r border-gray-200 transition-all duration-300",i?"w-16":"w-64"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[!i&&(0,s.jsxs)(o(),{href:"/\\",className:"flex items-center space-x-2",children:[(0,s.jsx)(N.A,{className:"h-8 w-8 text-blue-600"}),(0,s.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"EduLMS"})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>C(!i),className:"p-2",children:(0,s.jsx)(A.A,{className:(0,l.cn)("h-4 w-4 transition-transform",i&&"rotate-180")})})]}),(0,s.jsx)("nav",{className:"p-4 space-y-2",children:S.map(e=>{let t=e.icon,n=r===e.href;return(0,s.jsx)(o(),{href:e.href,children:(0,s.jsxs)(c.$,{variant:n?"secondary":"ghost",className:(0,l.cn)("w-full justify-start",i&&"px-2",n&&"bg-blue-50 text-blue-700 hover:bg-blue-100"),children:[(0,s.jsx)(t,{className:(0,l.cn)("h-5 w-5",!i&&"mr-3")}),!i&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"flex-1 text-left",children:e.title}),e.badge&&(0,s.jsx)(d.E,{variant:"secondary",className:"ml-auto",children:e.badge})]})]})},e.href)})})]})}var S=r(5301),U=r(3872);function M(e){let{children:t,requiredRole:r}=e,[i,o]=(0,n.useState)(null),[l,c]=(0,n.useState)(!0),d=(0,a.useRouter)();return((0,n.useEffect)(()=>{let e=S.y.getCurrentUser();if(!e)return void d.push("/auth/login");if(r&&e.role!==r){let t="admin"===e.role?"/admin":"teacher"===e.role?"/teacher":"parent"===e.role?"/parent":"/student";d.push(t);return}o(e),c(!1)},[r,d]),l)?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)(U.k,{size:"lg"})}):i?(0,s.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,s.jsx)(C,{role:i.role}),(0,s.jsx)("main",{className:"flex-1 overflow-y-auto",children:t})]}):null}},3872:(e,t,r)=>{r.d(t,{k:()=>a});var s=r(5155),n=r(3999);function a(e){let{className:t,size:r="md"}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex items-center justify-center",t),children:(0,s.jsx)("div",{className:(0,n.cn)("animate-spin rounded-full border-2 border-gray-300 border-t-blue-600",{sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"}[r])})})}},3999:(e,t,r)=>{r.d(t,{cn:()=>a});var s=r(2596),n=r(9688);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,s.$)(t))}},5301:(e,t,r)=>{r.d(t,{y:()=>a});let s=[{id:"1",email:"admin@lms.com",name:"Admin User",role:"admin",avatar:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=400",createdAt:"2024-01-01T00:00:00Z",profile:{bio:"System Administrator"}},{id:"2",email:"teacher@lms.com",name:"Sarah Johnson",role:"teacher",avatar:"https://images.pexels.com/photos/3769021/pexels-photo-3769021.jpeg?auto=compress&cs=tinysrgb&w=400",createdAt:"2024-01-01T00:00:00Z",profile:{subject:"Mathematics",bio:"Mathematics teacher with 10 years of experience"}},{id:"3",email:"student@lms.com",name:"Mike Chen",role:"student",avatar:"https://images.pexels.com/photos/2379005/pexels-photo-2379005.jpeg?auto=compress&cs=tinysrgb&w=400",createdAt:"2024-01-01T00:00:00Z",profile:{grade:"10th Grade",bio:"Enthusiastic learner interested in STEM subjects"}},{id:"4",email:"parent@lms.com",name:"Jennifer Wilson",role:"parent",avatar:"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=400",createdAt:"2024-01-01T00:00:00Z",profile:{bio:"Parent of two students",phone:"+1 (555) 123-4567"}}];class n{static getInstance(){return n.instance||(n.instance=new n),n.instance}login(e,t){return new Promise(t=>{setTimeout(()=>{let r=s.find(t=>t.email===e);r?(this.currentUser=r,localStorage.setItem("currentUser",JSON.stringify(r)),t(r)):t(null)},1e3)})}register(e){return new Promise(t=>{setTimeout(()=>{let r={id:Math.random().toString(36).substr(2,9),email:e.email,name:e.name,role:e.role||"student",createdAt:new Date().toISOString(),profile:e.profile};s.push(r),this.currentUser=r,localStorage.setItem("currentUser",JSON.stringify(r)),t(r)},1e3)})}logout(){this.currentUser=null,localStorage.removeItem("currentUser")}getCurrentUser(){if(!this.currentUser){let e=localStorage.getItem("currentUser");e&&(this.currentUser=JSON.parse(e))}return this.currentUser}isAuthenticated(){return null!==this.getCurrentUser()}hasRole(e){let t=this.getCurrentUser();return(null==t?void 0:t.role)===e}constructor(){this.currentUser=null}}let a=n.getInstance()},7168:(e,t,r)=>{r.d(t,{$:()=>c});var s=r(5155),n=r(2115),a=r(9708),i=r(2085),o=r(3999);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:r,variant:n,size:i,asChild:c=!1,...d}=e,u=c?a.DX:"button";return(0,s.jsx)(u,{className:(0,o.cn)(l({variant:n,size:i,className:r})),ref:t,...d})});c.displayName="Button"},8145:(e,t,r)=>{r.d(t,{E:()=>o});var s=r(5155);r(2115);var n=r(2085),a=r(3999);let i=(0,n.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,...n}=e;return(0,s.jsx)("div",{className:(0,a.cn)(i({variant:r}),t),...n})}},8482:(e,t,r)=>{r.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>i,aR:()=>o});var s=r(5155),n=r(2115),a=r(3999);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...n})});i.displayName="Card";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});o.displayName="CardHeader";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("font-semibold leading-none tracking-tight",r),...n})});l.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})});c.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...n})});d.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"}}]);